{% extends '::main.html.twig' %}

{% block content %}
    <div class="news-list">
        {% for one_news in news %}
            <article class="intro">
                <h2>
                    {% if one_news.event is defined %}
                        <a href="{{ path('event_news_show', { 'event_slug': one_news.event.slug, 'news_slug':one_news.slug }) }}">
                            {{one_news.title }}
                        </a>
                    {% else %}
                        <a href="{{ path('news_show', { 'slug':one_news.slug }) }}">{{one_news.title }}</a>
                    {% endif %}
                </h2>
                <div class="article-date-rubrics">
                    {{ one_news.createdat|date('d M Y') }}
                    {% if one_news.event is defined %}
                        <a href="{{ path('event_show', { 'event_slug': one_news.event.slug }) }}">
                            {{ one_news.event.name }}
                        </a>
                    {% endif %}
                </div>
                {{ one_news.preview|raw }}
            </article>
        {% endfor %}

        {#<div class="allnews-link"><a href="{{ path('event_news', { 'event_slug': event.slug }) }}">все новости</a></div>#}
    </div>
{% endblock %}