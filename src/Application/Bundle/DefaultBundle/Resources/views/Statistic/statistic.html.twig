{% extends '@SonataAdmin/standard_layout.html.twig' %}

{% block sonata_breadcrumb %}
    <div class="navbar-left">
        <ol class="nav navbar-top-links breadcrumb">
            <li>
                <a href="{{ url('sonata_admin_dashboard') }}">{% trans %}Dashboard{% endtrans %}</a>
            </li>
            <li class="active">Статистика</li>
        </ol>
    </div>
{% endblock sonata_breadcrumb %}

{% block stylesheets %}
    {{ parent() }}
{% endblock stylesheets %}

{% block title %} - {{ 'Статистика' }}{% endblock title %}

{% block content %}
    <h1>Статистика</h1>

    <h4>Общая статистика учасников</h4>
    <table>
        <tbody>
        <tr>
            <td>Всего учасников:</td> <td>{{ data['totalUsersCount'] }}</td>
        </tr>
        <tr>
            <td>Активированых учасников:</td> <td>{{ data['enabledUsersCount'] }}</td>
        </tr>
        <tr>
            <td>Подписаных на розсылку:</td> <td>{{ data['subscribedUsersCount'] }}</td>
        </tr>
        <tr>
            <td>Отписаных от розсылки:</td> <td>{{ data['unSubscribedUsersCount'] }}</td>
        </tr>
        </tbody>
    </table>

    <h4>Купили билетов по колличеству</h4>
    <table>
        <thead>
            <tr>
                <td>количество билетов</td> <td>количество учасников</td>
            </tr>
        </thead>
        <tbody>
        {% for key, count in usersTicketsCount -%}
            <tr>
                <td>{{ key }}</td> <td>{{ count }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <h4>статистика по принятию/отказов в предоставлении своих данных участниками</h4>
    <table>
        <tbody>
        <tr>
            <td>Людей отказалось предоставлять свои данные партнерам:</td>
            <td>{{ data['countRefusedProvideData'] }}</td>
        </tr>
        <tr>
            <td>Людей согласилось:</td>
            <td>{{ data['countAgreedProvideData'] }}</td>
        </tr>
        <tr>
            <td>Людей еще не ответило:</td>
            <td>{{ data['countNotAnswered'] }}</td>
        </tr>
        </tbody>
    </table>



    <h4>статистика по реферральной программе</h4>
    <table>
        <tbody>
        <tr>
            <td>Переходов по ссылкам:</td>
            <td>{{ data['countUseReferralProgram'] }}</td>
        </tr>
        </tbody>
    </table>
{% endblock content %}

{% block javascripts %}
    {{ parent() }}
{% endblock javascripts %}

'usersTicketsCount' => $usersTicketsCount,